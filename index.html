<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">

  <title>Riveted - A Google Analytics plugin for measuring active time on site</title>

  <link href="css/normalize.css" rel="stylesheet" />
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700|Righteous' rel='stylesheet' type='text/css'>
  <link href="css/prism.css" rel="stylesheet" />
  <link href="css/styles.css" rel="stylesheet" />

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1413210-12', 'parsnip.io');
    ga('send', 'pageview');
  </script>

</head>
<body>
  <div class="wrap">
  <div id="content">
  <h1>Riveted</h1>
  <h2>A Google Analytics plugin for measuring active time on site</h2>

  <p>Riveted keeps track of how much time users spend actively engaged on your site and then records the time in Google Analytics.
  </p>

  <p></p>
 

  <p>It supports Universal Analytics, Classic Google Analytics, and Google Tag Manager. It has no other dependencies.</p>

<p class="buttons">
  <a href="https://raw.github.com/robflaherty/riveted/master/riveted.js" target="_blank" class="button button-download">Download (1.8 kb)</a>
  <a href="https://github.com/robflaherty/riveted" target="_blank" class="button">View on Github</a>
</p>


<h2>Details</h2>
 <p>The plugin listens for mouse movements, clicks, scrolling, and keyboard activity to define an active user. It also checks whether the tab is currently visible.</p>

 <p>Every 5 seconds it check if the user is active and pings Google Analytics. If the user goes 30 seconds without registering an action the user is considered idle.</p>

<h2>Using it</h2>

<pre><code class="language-javascript">&lt;script src="riveted.js"&gt;&lt;/script&gt;
&lt;script&gt;riveted.init();&lt;/script&gt;</code>
</pre>

<h2>Plugin options</h2>

<h3>reportInterval</h3>
<p>This number, in seconds, determines both the increment of reporting and the frequency of pinging. The default is 5 seconds.</p>

<h3>idleTimeout</h3>
<p>This number determines how long a user can go without triggering an event before we consider them inactive. The deafult is 30 seconds.</p>

<h3>nonInteraction</h3>
<p>By default, GA Events are sent with the Non-interaction option set to true. This keeps the event from impacting the bounce rate and visit duration. <strong>Caution</strong>: If you set this to false, the bounce rate will drop to near zero and the visit duration will leap. Make sure you know what you're doing before using this option.</p>

<pre><code class="language-javascript">// Example with options
riveted.init({
  reportInterval: 10,   // Default: 5
  idleTimeout: 20,      // Default: 30
  nonInteraction: false // Default: true
});</code></pre>

<h2>Methods</h2>
<h3>rivited.trigger()</h3>
<p>Calling this method restarts the Idle timer. One use for this would be to keep the Riveted timer running while the user watches a video.</p>

<h3>riveted.setIdle()</h3>
<p>This method stops the timer and sets the user to the Idle state.</p>

<h2>Google Tag Manager</h2>
<p>If you want to integrate with Google Tag Manager, here are the dataLayer variable names:</p>
<ul>
<li>Scroll Distance Event Name = ScrollDistance</li>
<li>Scroll Timing Event Name = ScrollTiming</li>
<li>Event Category = {{eventCategory}}</li>
<li>Event Action = {{eventAction}}</li>
<li>Event Label = {{eventLabel}}</li>
<li>Event Value = {{eventValue}}</li>
<li>Event Non-Interaction = {{eventNonInteraction}}</li>
</ul>
<h2>Browser Support</h2>

<p>Tested in latest versions of Chrome, Firefox, Safari, and Opera. Internet Explorer 8-11. iOS and Android.</p>
</div>
</div>
<div id="bottom">
<div class="inner">

  <h2>Contact</h2>
  <p>If you have any questions you can find me on Twitter:</p>


  <p>
    <a href="https://twitter.com/robflaherty" target="_blank" class="button button-twitter">@robflaherty</a>
  </p>


  <h2>License</h2>

  <p style="margin: 0;">Licensed under the MIT license.</p>  

</div>
</div>

<script src="js/prism.js"></script>  
</body>
</html>